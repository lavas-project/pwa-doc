# 使用 RAIL 模型评估性能

RAIL 是一种以用户为中心的性能模型。每个网络应用均具有与其生命周期有关的四个不同方面，且这些方面以不同的方式影响着性能：

![rail](./images/rail.png)

## TL;DR

* 以用户为中心；最终目标不是让您的网站在任何特定设备上都能运行很快，而是使用户满意。
* 立即响应用户；在 100 毫秒以内确认用户输入。
* 设置动画或滚动时，在 10 毫秒以内生成帧。
* 最大程度增加主线程的空闲时间。
* 持续吸引用户；在 1000 毫秒以内呈现交互内容。

## 以用户为中心

让用户成为您的性能工作的中心。用户花在网站上的大多数时间不是等待加载，而是在使用时等待响应。了解用户如何评价性能延迟：


| 延迟时间 | 用户反应 |
| ------------- |-------------|
| 0 - 16 毫秒 | 人们特别擅长跟踪运动，如果动画不流畅，他们就会对运动心生反感。 用户可以感知每秒渲染 60 帧的平滑动画转场。也就是每帧 16 毫秒（包括浏览器将新帧绘制到屏幕上所需的时间），留给应用大约 10 毫秒的时间来生成一帧。 |
| 0 - 100 毫秒 | 在此时间窗口内响应用户操作，他们会觉得可以立即获得结果。时间再长，操作与反应之间的连接就会中断。 |
| 100 - 300 毫秒 | 用户会遇到轻微可觉察的延迟。 |
| 300 - 1000 毫秒 | 在此窗口内，延迟感觉像是任务自然和持续发展的一部分。对于网络上的大多数用户，加载页面或更改视图代表着一个任务。|
| 1000+ 毫秒 | 超过 1 秒，用户的注意力将离开他们正在执行的任务。|
| 10,000+ 毫秒 | 用户感到失望，可能会放弃任务；之后他们或许不会再回来。|
